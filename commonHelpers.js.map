{"version":3,"file":"commonHelpers.js","sources":["../src/js/faq.js","../src/js/services-swiper.js","../src/js/reviews-swiper.js","../src/js/form.js"],"sourcesContent":["document.querySelectorAll('.faq-list-item').forEach(item => {\n  const itemContainer = item.querySelector('.faq-list-item-container');\n\n  itemContainer.addEventListener('click', () => {\n    item.classList.toggle('open');\n    itemContainer.classList.toggle('active');\n  });\n});\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst servicesSliderElement = document.querySelector('.services-swiper');\nconst servicesSliderProps = {\n    speed: 700,\n    spaceBetween: 32,\n    slidesPerView: 'auto',\n    pagination: {\n        el: '.services-pagination',\n        clickable: true,\n    },\n    loop: true,\n    breakpoints: {\n        1440: {\n            slidesPerView: '3',\n            spaceBetween: 40,\n            loop: false\n        },\n    },\n};\nconst servicesSlider = new Swiper(servicesSliderElement, servicesSliderProps);\nservicesSlider.pagination.init();\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst reviewSliderElement = document.querySelector('.reviews-swiper');\nconst reviewSliderProps = {\n  speed: 700,\n  spaceBetween: 32,\n  slidesPerView: 'auto',\n  pagination: {\n    el: '.reviews-pagination',\n    clickable: true,\n  },\n  breakpoints: {\n    1024: {\n      spaceBetween: 40,\n      navigation: {\n        nextEl: '.reviews-btn-next',\n        prevEl: '.reviews-btn-prew',\n      },\n      keyboard: {\n        enabled: true,\n        onlyInViewport: false,\n      },\n    },\n  },\n  loop: true,\n};\nconst reviewSlider = new Swiper(reviewSliderElement, reviewSliderProps);\nreviewSlider.pagination.init();\n","const form = document.querySelector('.js-modal-form');\nconst selectButton = document.querySelector('.js-select-button');\nconst selectList = document.querySelector('.js-modal-select-list');\nconst selectContainer = document.querySelector('.js-modal-select');\n\nconst nameInput = document.querySelector('input[name=\"name\"]');\nconst phoneInput = document.querySelector('input[name=\"phone\"]');\nconst servicesInput = document.querySelector('button[name=\"services\"]');\n\nconst phoneWrapper = phoneInput.closest('.modal-input-wrapper');\n\nconst modal = document.querySelector('.js-consultation-modal');\nconst closeModalBtn = document.querySelector('.js-consultation-modal-close');\n\nconst INVALID = 'invalid';\nconst ACTIVE_SELECT = 'select-active';\nconst SHOW_PREFIX = 'show-prefix';\nconst VISIBLE = 'visible';\n\nconst URL = 'https://numismatics-project-backend.onrender.com/api/application';\n\nconst buttonAttribute = {\n  key: 'data-selected',\n  selected: 'true',\n  notSelected: 'false',\n};\n\nform.addEventListener('submit', handleSubmit);\nselectButton.addEventListener('click', toggleSelect);\nselectList.addEventListener('click', handleListSelect);\n\nnameInput.addEventListener('focus', removeInvalid);\nphoneInput.addEventListener('focus', removeInvalid);\nservicesInput.addEventListener('focus', removeInvalid);\n\nphoneInput.addEventListener('input', validateNumber);\nphoneInput.addEventListener('focus', handlePhoneFocus);\nphoneInput.addEventListener('blur', handlePhoneBlur);\n\n// Modal\ncloseModalBtn.addEventListener('click', closeModal);\nmodal.addEventListener('click', handleBackdropClose);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  const data = e.target.elements;\n  const name = data.name.value.trim();\n  const phone = data.phone.value.trim();\n  const comment = data.comment.value.trim();\n  const services = data.services.getAttribute(buttonAttribute.key);\n\n  const isValid = validateForm({ name, phone, services });\n\n  if (!isValid) return;\n\n  const servicesValue =\n    data.services.querySelector('#modal-services').textContent;\n\n  fetchConsultation({\n    name,\n    phone: '+38' + phone,\n    service: servicesValue,\n    question: comment,\n  });\n\n  e.target.reset();\n  data.services.querySelector('span').textContent = 'Послуги';\n  data.services.dataset.selected = 'false';\n  phoneWrapper.classList.remove(SHOW_PREFIX);\n}\n\nasync function fetchConsultation(data) {\n  try {\n    const config = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    };\n    const responseData = await (await fetch(URL, config)).json();\n    console.log('Ok', responseData);\n  } catch (error) {\n    console.error('Error submitting application:', error);\n  }\n}\n\nfunction validateForm({ name, phone, services }) {\n  let isValid = true;\n\n  if (!name) {\n    nameInput.classList.add(INVALID);\n    isValid = false;\n  }\n  if (phone.length < 10) {\n    phoneInput.classList.add(INVALID);\n    isValid = false;\n  }\n\n  if (services === buttonAttribute.notSelected) {\n    servicesInput.classList.add(INVALID);\n    isValid = false;\n  }\n\n  return isValid;\n}\nfunction handlePhoneFocus(e) {\n  phoneWrapper.classList.add(SHOW_PREFIX);\n}\nfunction handlePhoneBlur(e) {\n  if (e.target.value.trim()) return;\n  e.target.value = '';\n  phoneWrapper.classList.remove(SHOW_PREFIX);\n}\n\nfunction removeInvalid(e) {\n  e.currentTarget.classList.remove(INVALID);\n}\n\nfunction toggleSelect() {\n  selectContainer.classList.toggle(ACTIVE_SELECT);\n\n  if (selectContainer.classList.contains(ACTIVE_SELECT)) {\n    window.addEventListener('click', closeDropdownOnClickOutside);\n  } else {\n    window.removeEventListener('click', closeDropdownOnClickOutside);\n  }\n}\n\nfunction closeDropdownOnClickOutside({ target }) {\n  if (!selectButton.contains(target) && !selectList.contains(target)) {\n    selectContainer.classList.remove(ACTIVE_SELECT);\n    window.removeEventListener('click', closeDropdownOnClickOutside);\n  }\n}\n\nfunction handleListSelect(e) {\n  if (e.target !== e.currentTarget) {\n    selectButton.setAttribute(buttonAttribute.key, buttonAttribute.selected);\n    selectButton.querySelector('#modal-services').textContent =\n      e.target.textContent.trim();\n    selectContainer.classList.remove(ACTIVE_SELECT);\n    window.removeEventListener('click', closeDropdownOnClickOutside);\n  }\n}\n\nfunction validateNumber(event) {\n  const phoneInput = event.target.value.replace(/\\D/g, '');\n  if (phoneInput.length > 10) {\n    event.target.value = phoneInput.slice(0, 10);\n    return;\n  }\n\n  event.target.value = phoneInput;\n}\n\nfunction handleEsc(e) {\n  if (e.key !== 'Escape') return;\n  closeModal();\n}\n\nfunction handleBackdropClose(e) {\n  if (e.target !== e.currentTarget) return;\n  closeModal();\n}\n\nexport function closeModal() {\n  modal.classList.remove(VISIBLE);\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', handleEsc);\n}\nexport function handleOpenModal() {\n  modal.classList.add(VISIBLE);\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', handleEsc);\n}\n\n//  Тимчасовий код\nconst openButtonHero = document.querySelector('.hero-btn');\nopenButtonHero.addEventListener('click', handleOpenModal);\nconst openButtonServices = document.querySelector('.services-button');\nopenButtonServices.addEventListener('click', handleOpenModal);\n"],"names":["item","itemContainer","servicesSliderElement","servicesSliderProps","servicesSlider","Swiper","reviewSliderElement","reviewSliderProps","reviewSlider","form","selectButton","selectList","selectContainer","nameInput","phoneInput","servicesInput","phoneWrapper","modal","closeModalBtn","INVALID","ACTIVE_SELECT","SHOW_PREFIX","VISIBLE","URL","buttonAttribute","handleSubmit","toggleSelect","handleListSelect","removeInvalid","validateNumber","handlePhoneFocus","handlePhoneBlur","closeModal","handleBackdropClose","data","name","phone","comment","services","validateForm","servicesValue","fetchConsultation","config","responseData","error","isValid","closeDropdownOnClickOutside","target","event","handleEsc","handleOpenModal","openButtonHero","openButtonServices"],"mappings":"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"}